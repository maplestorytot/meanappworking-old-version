<h2>Post Component Create</h2>

<!--[] makes value ts code, taking from component.ts -->
<!--#postInput is creating a marker for the element, now can be put in onAddPost(postInput) as a parameter -->
<!--<textarea rows="6" [value]="newPost" #postInput></textarea>-->
<!--Two way binding-->

<!--When submit button is clicked, this will occur-->
<!--postform gives access to the angular form object that is created when submited-->
<mat-spinner *ngIf="isLoading"></mat-spinner>
<form [formGroup]="form"  (submit)="onSavePost()" *ngIf="!isLoading">
    <mat-card>
        <mat-form-field>
            <input matInput
            type="text"
            formControlName="title"
            placeholder="Enter Title">

          <!--  <mat-error *ngIf="postForm.getControl('title').invalid">Please enter a post title</mat-error> -->
          <mat-error *ngIf="form.get('title').invalid"></mat-error>
        </mat-form-field>
        <div>
          <button mat-stroked-button
          type="button"
          (click)="filePicker.click()">
            Pick Image
          </button>
          <input type="file" #filePicker (change)="onImagePicked($event)">
        </div>
        <div class="image-preview" *ngIf="imagePreview !== '' && imagePreview">
            <img [src]="imagePreview" [alt]="form.value.title">
          </div>
        <mat-form-field>

            <textarea matInput rows="6"
            formControlName="content"
              placeholder="Enter Content" ></textarea>
            <!--Error messages second way, add #content above-->
            <mat-error *ngIf="form.get('content').invalid">Please enter content</mat-error>



        </mat-form-field>
        <button mat-raised-button
        color="accent"
         type="submit">Save Post</button>
    </mat-card>

</form>
